== Add TLS certificates

To add certificates to the images we need a truststore generated.
This truststore must be named as server.keystore.

=== Create truststore example

[source,bash]
----
keytool -genkeypair -storepass password -storetype PKCS12 -keyalg RSA -keysize 2048 -dname "CN=server" -alias server -ext "SAN:c=DNS:localhost,IP:127.0.0.1" -keystore server.keystore
----

The truststore can be used either as a secret or as configmap.

=== Secret

To use the truststore as a Kubernetes secret:

Generate Kubernetes secret

[source,bash]
----
kubectl create secret generic secret_name --from-file=server.keystore
----

Add the secret to your file settings: --set cacerts.secret=secret_name

=== Configmap

To use the truststore as a Kubernetes configmap

Generate Kubernetes configmap

[source,bash]
----
kubectl create configmap configmap_name --from-file=server.keystore
----

Add the configmap to your file settings: --set cacerts.configmap=configmap_name