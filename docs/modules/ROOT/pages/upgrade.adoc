== Upgrade

The upgrade process is as simple as executing `helm upgrade` command, divided into two scenarios:

* *Upgrade image:* Deployment is upgraded with a new image.
After the upgrade completes, the old pod will be removed, and a new one with the upgraded image will spawn.

* *Upgrade configurations:* To upgrade only the configurations of the current deployment (charts).
In this case, after the upgrade completes, it might be necessary to restart the deployment depending on the change.

Upgrade deployment by executing:

[source,bash]
----
helm upgrade keycloak \
  --set image.registry="${UPGRADE_IMAGE_REG}" \
  --set image.repository="${UPGRADE_IMAGE_REPO}" \
  --set image.tag="${UPGRADE_IMAGE_TAG}" \
  --set db.dbMigration=true \
  --timeout 10m \
  ${KEYCLOAK_CHART_PATH} \
  -n ${namespace} \
  --version "${UPGRADE_CHART_VERSION}"
----